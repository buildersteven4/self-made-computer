TODO: fix zero flag checking for 8-bit values